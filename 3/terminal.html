<script src="vpass.js"></script>
<script>
	function getParameterByName(name)
	{
	  name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
	  var regexS = "[\\?&]" + name + "=([^&#]*)";
	  var regex = new RegExp(regexS);
	  var results = regex.exec(window.location.search);
	  if(results == null)
	    return "";
	  else
	    return decodeURIComponent(results[1].replace(/\+/g, " "));
	}

	var master_password = getParameterByName('master_password');
	var domain = getParameterByName('domain');
	var generated_password =  vpass.generate(master_password, domain);
	document.write(generated_password);
</script>